<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/teams/index.css" />
<%- include('../partials/nav') %>

<main>
  <h1>Basketball Teams</h1>
  <table>
    <thead>
      <tr>
        <th>Team City</th>
        <th>Team Name</th>
        <th>Conference</th>
        <th>Primary Color</th>
        <th>Secondary Color</th>
        <th>Roster</th>
        <th>Owner</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% teams.forEach(team => { %>
        <!-- //<% let primaryColor = team.priColor.toLowerCase() %>  -->
        <tr>
          <td><%= team.city %></td>
          <td><%= team.name %></td>
          <td><%= team.conference %></td>
          <td>
            <!-- <div id="primary-color"></div> -->
            <%= team.priColor %> 
          </td>
          <td><%= team.secColor %></td>
          <td><a href="/teams/<%= team._id %>">ROSTER</a></td>
          <td><%= team.owner.name %></td>
          <td>
            <% if (team.owner.equals(user?.profile._id)) { %> 
            <form
              action="/teams/<%= team._id %>?_method=DELETE"
              method="POST"
            >
              <button>X</button>
            </form>
            <% } %> 
          </td>
        </tr>
        <!-- <script type="text/javascript">
          document.getElementById('primary-color').style.backgroundColor = primaryColor
        </script> -->
      <% }) %>
    </tbody>
  </table>
</main>

<%- include('../partials/footer') %>